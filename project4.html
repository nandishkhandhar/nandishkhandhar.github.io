

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 2 - CS180 Projects</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1, h2 {
            color: #333;
        }
        img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Project 4 - Mosaics</h1>
    
    <h2>Part 1: Finding Homographies</h2>
    <p> The homography matrix is found using the point correspondences. A system of linear equations is set up and solved, and the output is
    the 3x3 matrix. Below are the eqations used.</p>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <p>
        \[
        \begin{align*}
        A &= \begin{bmatrix}
        -x_{\text{pts}} & -y_{\text{pts}} & -1 & 0 & 0 & 0 & x_{\text{pts}} \cdot x_{B\text{pts}} & y_{\text{pts}} \cdot x_{B\text{pts}} & x_{B\text{pts}} \\
        0 & 0 & 0 & -x_{\text{pts}} & -y_{\text{pts}} & -1 & x_{\text{pts}} \cdot y_{B\text{pts}} & y_{\text{pts}} \cdot y_{B\text{pts}} & y_{B\text{pts}}
        \end{bmatrix}
        \end{align*}
        \]
    </p>
     <p>Where (xpts, ypts) are the points for the first image and (xBpts, yBpts) are the points for the second image</p>

    <h2>Part 2: Warp Function</h2>
    <p>The warp function warps an input image using the specified homography matrix defined above. It creates a grid of coordinates covering the image dimensions and
        transforms these grid coordinates according to the homography matrix. Transformed pixel values are extracted from the input image and the final image is made by
        interpolating these pixel values over the new coordinate grid using linear interpolation.</p>
    
    <style>
      .image-container {
        text-align: center;
      }
      .image-container img {
        display: inline-block;
        width: 40%; 
        margin: 10px;
      }
    </style>
    
    <div class="image-container">
        <img src="./images/resized_image1.png" alt="lowres3" >
        <img src="./images/resized_image2.png" alt="lowres3">
        <img src="./images/rhythmwarped.png" alt="lowres3">
    </div>

    <div class="image-container">
        <img src="./images/resized_image1outside.jpeg" alt="lowres3" >
        <img src="./images/resized_image2outside.jpeg" alt="lowres3" >
        <img src="./images/warpedoutside.png" alt="lowres3">
    </div>

    <div class="image-container">
        <img src="./images/resized_image1.png" alt="lowres3"">
        <img src="./images/resized_image2.png" alt="lowres3" >
        <img src="./images/roomswarped.png" alt="lowres3">
    </div>


    <h2>Part 3: Image Rectification</h2>
    <p> The images shown below confirm that the warping function works. As before, the point correspondences were defined uskng the online tool
    and one of the paintings in the image was matched with a corresponding rectangle. Since the rectangles are correctly warped, we can move on to
    creating the mosaic</p>
    
    
    <img id = "myGif" src="/images/morph_sequence.gif" alt="GIF" width="300" height="300">
      
      <br></br>
      <button onclick="resetGif()">Reset GIF</button>
    
      <script>
        function resetGif() {
          var gif = document.getElementById("myGif");
          var gifSrc = gif.src;  
          gif.src = "";          
          gif.src = gifSrc;      
        }
      </script>

    <h2>Part 4: "Mean face" of a population</h2>
    <p>This part involved loading all the data from the Danes dataset, which has 37 images. From this, the points were loaded into an array
    and then the average face was computed with the same method as before.</p>
    
    <img src="./images/avg.png" alt="lowres3">

    <p>Below shown are images of my face warped onto the average geometry and the average geometry warped onto me.</p>

    <img src="./images/me_warped_avg.png" alt="lowres3">
    <img src="./images/avg_warped_me.png" alt="lowres3">

    <p>Here are examples from the database morphed onto the average face</p>

    <img src="./images/multiple_morph.png" alt="lowres3">
    
    <h2>Part 5: Face Caricature</h2>
    <p>The Caricatures are produced by shifting the points in the original image with the formula a + k*(a - b). The original image is then 
    morphed into this to create the final image. </p>
    
    <img src="./images/caricatures.png" alt="lowres3">
    
    
    <h2>Bells and Whistles - Changing gender</h2>
    <p>For this, I morphed my image onto the average Indian woman (which I found on the web) using the same triangulation and warping method 
    as before. You can see the features change, ranging from skin color to eyes and eyebrows etc...</p>
    
    <img src="./images/bells_whistles.png" alt="lowres3">
    
    <h2>Conclusion</h2>
    <p>I have taken some inspiration from ChatGPT and pretrained LLM's to create the structure for some parts of the website.</p>
    
    <a href="index.html">Back to Main Page</a>
</body>
</html>
